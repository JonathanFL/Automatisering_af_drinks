\chapter{Kravspecifikation}

\section{Use cases}
\subsection{UC1: Bestil drink}
\begin{table}[H]
\begin{tabular}{|p{5cm}|p{9cm}|}
\hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Navn:} & Bestil drink\\ \hline
\textbf{Mål:} & Bruger modtager den bestilte drink\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Initiering:} & Bruger går over til touchskærmen som tænder\\ \hline
\textbf{Aktører:} & Bruger/ejer\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Antal samtidige forekomster:} & 1\\ \hline
\textbf{Prækondition:} & Drinkmaster er funktionsdygtig og brugeren har placeret et glas i systemet. \\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Postkondition:} & Kunden tager den bestilte drink\\ \hline
\begin{tabular}[c]{@{}l@{}} \textbf{Hovedscenarie:} \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \end{tabular}& \begin{tabular}[c]{@{}l@{}}
1. Systemets touchscreen viser en liste af mulige drinks.\\
2. Brugeren vælger drink på touchscreen.\\
3. Systemet modtager brugerens valg.\\
4. Systemet undersøger om der er tilstrækkelige mængder \\ \hspace*{4mm}af ingredienser til at lave drinken. \\\hspace*{4mm}\textit{[EXT 1: Ikke tilstrækkelige mængder af ingredienser]}\\
5. Systemet doserer drinkens ingredienser i glasset. \\
6. Systemet viser beskeden ”Valgte drink er klar – tag \\ \hspace*{4mm}din drink” på touchscreen.\\
7. Brugeren tager glasset med drinken og UC afsluttes. \\
\end{tabular}\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Udvidelser/undtagelser:} & \begin{tabular}[c]{@{}l@{}}
\textit{[EXT 1: Ikke tilstrækkelige mængder af ingredienser]}\\ 
1. UC 4 initieres.\\
2. UC 4 afsluttes og use casen returnerer til punkt 5. \\
\end{tabular}\\ \hline
\end{tabular}
\end{table}

\subsection{UC2: Lav egen drink ELLER "Opret egen drink"?}
\begin{table}[H]
\begin{tabular}{|p{5cm}|p{9cm}|}
\hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Navn:} & Lav egen drink\\ \hline
\textbf{Mål:} & At brugeren tilføjer en drink til databasen\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Initiering:} & Bruger går over til touchskærmen som tænder\\ \hline
\textbf{Aktører:} & Bruger/ejer\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Antal samtidige forekomster:} & 1\\ \hline
\textbf{Prækondition:} & Maskinen er er tændt og aktiveret. \\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Postkondition:} & Der er oprettet en brugerdefineret drink i databasen og maskinen er klar til næste operation\\ \hline
\begin{tabular}[c]{@{}l@{}} \textbf{Hovedscenarie:} \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\ \\\end{tabular}& \begin{tabular}[c]{@{}l@{}}
1. Systemet registrerer at bruger er indenfor 75 cm og \\\hspace*{4mm} touchskærm tænder.\\
2. Bruger vælger "Lav egen drink" på touchskærmen.\\
3. Bruger bedes indtaste et navn på den ønskede drink.\\
4. Bruger indtaster navn på den ønskede drink og \\ \hspace*{4mm}trykker "OK". \\
5. En liste over tilgængelige væsker vises. \\
6. Bruger vælger en ønsket væske og angiver i boksen ud\\ \hspace*{4mm}for den valgte væske, den mængde der skal bruges.\\
\hspace*{4mm}\textit{[EXT 1: Der er flere end 1 ingredienser i den}\\ \hspace*{4mm}\textit{ønskede drink].}\\%\hspace*{4mm}
7. Bruger trykker "Tilføj drink". \\\hspace*{4mm}\textit{[EXT 2: Bruger trykker på annuller]}\\
\end{tabular}\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Udvidelser/undtagelser:} & \begin{tabular}[c]{@{}l@{}}
\textit{[EXT 2: Ikke tilstrækkelige mængder af ingredienser]}\\ 
1. Går tilbage til startskærmen.\\
2. Der blev ikke oprettet en ny drink. \\
\end{tabular}\\ \hline
\end{tabular}
\end{table}

\subsection{UC3: Slet drink}
\begin{table}[H]
\begin{tabular}{|p{5cm}|p{9cm}|}
\hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Navn:} & Slet drink\\ \hline
\textbf{Mål:} & At ejeren har slettet en drink i listen over drinks\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Initiering:} & Ejer vælger "Fjern drik"\\ \hline
\textbf{Aktører:} & Ejer\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Antal samtidige forekomster:} & 1\\ \hline
\textbf{Prækondition:} & Ejer  har  tilstrækkelige  rettigheder  til  at  kunne  slette  en drink fra databasen. Touchskærmen er tændt. \\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Postkondition:} & En drink er blevet slettet fra drinkdatabasen og dette er også opdateret på listen til maskinen.\\ \hline
\begin{tabular}[c]{@{}l@{}} \textbf{Hovedscenarie:} \\ \\ \\ \\ \\ \\ \\ \\\end{tabular}& \begin{tabular}[c]{@{}l@{}}
1. Ejer vælger "Slet drink"på touchskærmen.\\
2. En liste over nuværende drinks vises til brugeren.\\
3. Ejeren trykker på den drink som ønskes slettet.\\
4.Touchskærmen viser en besked:” Vil du slette den\\
\hspace*{4mm}valgtedrink?\\
5. Ejer trykker på "Ja". \\
\hspace*{4mm}\textit{[EXT 1: Ejer trykker "nej"]}\\
6. Touch skærm viser beskeden ”Drink slettet”.
\end{tabular}\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Udvidelser/undtagelser:} & \begin{tabular}[c]{@{}l@{}}
\textit{[EXT 1: Ejer trykker "nej"]}\\ 
1. Applikationen går tilbage til siden med listen over drinks.\\
2. Der blev ikke slettet en drink. \\
\end{tabular}\\ \hline
\end{tabular}
\end{table}


\subsection{UC4: Påfyld ingredienser}
\begin{table}[H]
\begin{tabular}{|p{5cm}|p{9cm}|}
\hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Navn:} & Påfyld ingredienser\\ \hline
\textbf{Mål:} & At fylde ingredienser i maskinen\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Initiering:} & Bruger/Ejer bestiller en drink.\\ \hline
\textbf{Aktører:} & Ejer\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Antal samtidige forekomster:} & 1\\ \hline
\textbf{Prækondition:} & Indholdet i en af flaskerne er 10 cl. eller under.\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Postkondition:} & Den valgte ingrediens er tilføjet og maskinen er funktionsdygtig\\ \hline
\begin{tabular}[c]{@{}l@{}} \textbf{Hovedscenarie:} \\ \\ \\ \\ \\ \\ \\ \\\end{tabular}& \begin{tabular}[c]{@{}l@{}}
1. Touchskærmen giver besked om at en eller flere \\\hspace*{4mm}ingredienser skal genopfyldes. \\
2. Ejer vælger “Udskift ingrediens” \\
3. Ejer afmonterer den valgte flaske og påsætter den nye \\\hspace*{4mm}flaske. \\
4. Ejer trykker herefter på touch displayet \\\hspace*{4mm}“Ingrediens udskiftet”. \\
5. Touchskærmen returnerer til hovedmenu \\
6. Use case afsluttes\\
\end{tabular}\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Udvidelser/undtagelser:} & Ingen \\ \hline
\end{tabular}
\end{table}

\subsection{UC5: Service}

\begin{table}[H]
\begin{tabular}{|p{5cm}|p{9cm}|} 
\hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Navn:} & Service\\ \hline
\textbf{Mål:} & At drink maskinen er rent og fuld funktionalitet er nu garanteret.\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Initiering:} & Systemet registrerer at X antal drinks er lavet.\\ \hline
\textbf{Aktører:} & Ejer\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Antal samtidige forekomster:} & 1\\ \hline
\textbf{Prækondition:} & Systemet har lavet det maksimal tilladte antal drinks.\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Postkondition:} & Der er udført service på drinksmaskinen\\ \hline
\begin{tabular}[c]{@{}l@{}} \textbf{Hovedscenarie:} \\ \\ \\ \\ \\ \\ \\ \\ \\ \\\end{tabular}& \begin{tabular}[c]{@{}l@{}}
1. Systemet giver besked til Ejer om at den  \\\hspace*{4mm}trænger til at blive serviceret.\\
2. Ejer trykker ”ok”. \\
3. Touchskærmen returnerer til hovedmenu, og er fuld \\ funktionel. \\
4. Ejer trykker service. \\
5. Touchskærm går i servicemode. \\
6. Ejer servicerer maskinen. \\
7. Ejer trykker ”Afslut service”. \\
8. System returnerer til hovedmenuen. \\
9. Use case afsluttes. \\
\end{tabular}\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Udvidelser/undtagelser:} & Ingen \\ \hline
\end{tabular} 
\end{table} 

\section{Test Use cases:}

\begin{itemize}
    \item Registrer bruger
    \item Vægt registrerer kop
    \item Ændre flaskeposition
    \item Doser væske
    \item Registrer tom flaske
    \item PSoC master fortæller RPi at drink er færdig
\end{itemize}

\subsection{TUC 1: Registrer bruger}
\begin{table}[H]
\begin{tabular}{|p{5cm}|p{9cm}|}
\hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Navn:} & Registrer bruger\\ \hline
\textbf{Mål:} & Motionsensor registrere bruger og tænder for touchscreen\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Initiering:} & Bruger\\ \hline
\textbf{Aktører:} & Bruger\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Antal samtidige forekomster:} & 1\\ \hline
\textbf{Prækondition:} & Touchscreen er slukket \\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Postkondition:} & Touchscreen er tændt og systemet er klar til at modtage bestilling.\\ \hline
\begin{tabular}[c]{@{}l@{}} \textbf{Hovedscenarie:} \\ \\ \\ \\\end{tabular}& \begin{tabular}[c]{@{}l@{}}
1. Bruger går hen til systemet. \\
2. Proximitysensor registrerer bruger. \\
3. Proximitysensor sender signal til RPi. \\
4. RPi tænder for touchscreen. \\
\end{tabular}\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Udvidelser/undtagelser:} & Ingen\\ \hline
\end{tabular}
\end{table}

\subsection{TUC 2: Vægt registrerer kop}
\begin{table}[H]
\begin{tabular}{|p{5cm}|p{9cm}|}
\hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Navn:} & Vægt registrerer kop\\ \hline
\textbf{Mål:} & Vægt registrere kop og enabler "bestil drink"\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Initiering:} & Bruger\\ \hline
\textbf{Aktører:} & Bruger\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Antal samtidige forekomster:} & 1\\ \hline
\textbf{Prækondition:} & Der står ikke en kop i forvejen og systemet er ikke i gang med at brygge en drink.\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Postkondition:} & \begin{tabular}[c]{@{}l@{}}Knappen "bryg drink" på touchskærm er enabled\end{tabular} \\ \hline
\begin{tabular}[c]{@{}l@{}} \textbf{Hovedscenarie:} \\ \\ \\ \\ \\ \end{tabular} & \begin{tabular}[c]{@{}l@{}}
1. Bruger sætter sin kop til opfylding. \\
2. Vægtens load cell sender signaler til PSoC Slave. \\
4. PSoC Slave sender data til PSoC master. \\
5. PSoC Master sender data til RPi \\
6. RPi enabler "Bryg drink" på GUI \\
\end{tabular}\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Udvidelser/undtagelser:} & ingen\\ \hline
\end{tabular}
\end{table}

\subsection{TUC 3: Ændre flaskeposition}
\begin{table}[H]
\begin{tabular}{|p{5cm}|p{9cm}|}
\hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Navn:} & Ændre flaskeposition.\\ \hline
\textbf{Mål:} & Systemet drejer ønsket flaske frem til doseringspositionen\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Initiering:} & Bruger\\ \hline
\textbf{Aktører:} & Bruger\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Antal samtidige forekomster:} & 1\\ \hline
\textbf{Prækondition:} & Systemet er tændt og klar til brug. \\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Postkondition:} & Systemet har drejet den ønskede flaske frem til doseringspositionen.\\ \hline
\begin{tabular}[c]{@{}l@{}} \textbf{Hovedscenarie:} \\ \\ \\ \\ \\ \\ \\ \end{tabular}& \begin{tabular}[c]{@{}l@{}}
1. Bruger vælger ønsket flaske på touchscreen. \\
2. RPi sender signal til PSoC Master. \\
3. PSoC Master sender signal til PSoC Slave. \\
4. PSoC Slave tænder steppermotor. \\
5. Steppermotor drejer flaskebeholder rundt. \\
6. Steppermotor stopper når ønsket flaske er ved \\\hspace*{4mm}doseringsposition. \\
\end{tabular}\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Udvidelser/undtagelser:} & Ingen\\ \hline
\end{tabular}
\end{table}

\subsection{TUC 4: Doser væske}
\begin{table}[H]
\begin{tabular}{|p{5cm}|p{9cm}|}
\hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Navn:} & Doser væske\\ \hline
\textbf{Mål:} & Systemet doserer den ønskede mængde væske\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Initiering:} & Bruger\\ \hline
\textbf{Aktører:} & Bruger\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Antal samtidige forekomster:} & 1\\ \hline
\textbf{Prækondition:} & Systemet er tændt og klar til brug. \\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Postkondition:} & Systemet har doseret den rigtige mængde væske i glasset.\\ \hline
\begin{tabular}[c]{@{}l@{}} \textbf{Hovedscenarie:} \\ \\ \\ \\ \\ \\\end{tabular}& \begin{tabular}[c]{@{}l@{}}
1. Bruger vælger ønsket mængde væske på touchscreen. \\
2. RPi sender besked til PSoC Master. \\
3. PSoC Master sender signal til PSoC Slave. \\
4. PSoC Slave tænder for pumpen ved flasken der er ved\\ \hspace*{4mm}doseringspositionen.\\
5. Pumpen stopper når ønsket mængde væske er doseret. \\
\end{tabular}\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Udvidelser/undtagelser:} & Ingen\\ \hline
\end{tabular}
\end{table}

\subsection{TUC 5: Registrer tom flaske}
\begin{table}[H]
\begin{tabular}{|p{5cm}|p{9cm}|}
\hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Navn:} & Registrer tom flaske \\ \hline
\textbf{Mål:} & Systemet skal registrerer at en flaske indeholder mindre en 10 cl, og sende besked til touchscreen\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Initiering:} & Bruger går hen til touchskærmen, og motion sensor registrerer bevægelse \\ \hline
\textbf{Aktører:} & Bruger\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Antal samtidige forekomster:} & 1\\ \hline
\textbf{Prækondition:} & Drinkmaster mangler IKKE service og klar til brug. Den valgte flaske indeholder 70 cl \\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Postkondition:} & Systemet har registreret at en flaskes indhold er 10 cl eller mindre \\ \hline
\begin{tabular}[c]{@{}l@{}} \textbf{Hovedscenarie:} \\ \\ \\ \\\end{tabular}& \begin{tabular}[c]{@{}l@{}}
1. Bruger vælger at doserer 60 cl fra en flaske. \\
2. [Test Use case 4 Initieres med 60 cl] \\
4. Bruger vælger at doserer 5 cl fra samme flaske. \\
5. Rpi udskriver, at flasken er ved at være tom \\
\end{tabular}\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Udvidelser/undtagelser:} & Ingen\\ \hline
\end{tabular}
\end{table}


\subsection{TUC 6: PSoC master fortæller RPi at drink er færdig}
\begin{table}[H]
\begin{tabular}{|p{5cm}|p{9cm}|}
\hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Navn:} & PSoC master fortæller RPi at drink er færdig\\ \hline
\textbf{Mål:} & RPi har modtaget fra PSoC Master at \\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Initiering:} & PSoC Master\\ \hline
\textbf{Aktører:} & PSoC Master og RPi\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Antal samtidige forekomster:} & 1\\ \hline
\textbf{Prækondition:} & Brygning af drink er i gang. \\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Postkondition:} & Systemet har doseret den rigtige mængde væske i glasset.\\ \hline
\begin{tabular}[c]{@{}l@{}} \textbf{Hovedscenarie:} \\ \\ \\ \\\end{tabular}& \begin{tabular}[c]{@{}l@{}}
1. PSoC Master registrerer at drink er færdigbrygget. \\
2. PSoC Master sender status til RPi. \\
3. RPi modtager status om at drink er færdig\\
4. RPi udskriver status på touchskærmen\\ 
\end{tabular}\\ \hline
\rowcolor[HTML]{C0C0C0} 
\textbf{Udvidelser/undtagelser:} & Ingen\\ \hline
\end{tabular}
\end{table}

\input{Ikke_funktionelle_krav.tex}


